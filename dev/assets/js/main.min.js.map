{"version":3,"sources":["main.min.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","Object","defineProperty","value","toggleNav","header","document","querySelector","nav","navButton","navLink","querySelectorAll","siteTitle","closeMenu","tl","TimelineMax","to","autoAlpha","backgroundColor","set","y","setTimeout","classList","toggle","TweenMax","addEventListener","contains","staggerTo","ease","Power1","easeInOut","Array","from","forEach","link","2","skillScroll","skillContainer","skillArrowL","skillArrowR","setArrow","LR","alpha","showArrow","mediaMed","window","matchMedia","matches","mediaWide","containerWidth","scrollWidth","viewportWidth","documentElement","clientWidth","maxAmount","scrollAmount","skillCard","offsetWidth","scrollStep","ticking","newAmount","scrollLeft","requestAnimationFrame","_mediaMed","_mediaWide","newContainerWidth","newViewportWidth","newSkillCard","scrollTo","x","3","obj","_customScripts","_animation","__esModule","default","doScrollingRightAway","animateScroll","animations","*","in","next","out","./animation","./custom-scripts","./transitions","swupjs","4","transitions","5","Element","prototype","proto","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","element","selector","nodeType","parentNode","6","closest","type","callback","useCapture","listenerFn","delegateTarget","target","apply","this","arguments","destroy","removeEventListener","./closest","7","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","Cache","instance","TypeError","_classCallCheck","pages","count","last","page","displayCache","url","console","groupCollapsed","keys","log","groupEnd","showLog","8","Link","createElement","href","path","pathname","search","hash","9","_extends","assign","source","hasOwnProperty","_delegate2","_interopRequireDefault","_Cache2","_Link2","_transitionEnd2","_request2","_getDataFromHtml2","_loadPage2","_renderPage2","_createState2","_triggerEvent2","_getUrl2","_scrollTo2","_classify2","_doScrolling2","_markSwupElements2","_on2","_off2","_updateTransition2","_preloadPage2","_preloadPages2","_usePlugin2","_log2","_utils","Swup","setOptions","defaults","cache","animationSelector","elements","pageClassPrefix","debugMode","scroll","scrollFriction","scrollAcceleration","preload","support","plugins","skipPopStateHandling","event","state","animateHistoryBrowsing","LINK_SELECTOR","location","origin","FORM_SELECTOR","transition","options","_handlers","animationInDone","animationInStart","animationOutDone","animationOutStart","animationSkipped","clickLink","contentReplaced","disabled","enabled","hoverLink","openPageInNewTab","pageLoaded","pagePreloaded","pageRetrievedFromCache","pageView","popState","samePage","samePageWithHash","scrollDone","scrollStart","serverError","submitForm","willReplaceContent","scrollToElement","preloadPromise","getUrl","transitionEndEvent","getDataFromHtml","getPage","loadPage","renderPage","createState","triggerEvent","classify","doScrolling","markSwupElements","on","off","updateTransition","preloadPage","preloadPages","usePlugin","enable","swup","_this","history","warn","Promise","toString","indexOf","delegatedListeners","click","linkClickHandler","bind","mouseover","body","linkMouseoverHandler","formSubmit","formSubmitHandler","popStateHandler","outerHTML","currentUrl","cacheUrl","item","replaceState","random","Math","title","scrollRestoration","add","empty","queryAll","dataset","remove","metaKey","ctrlKey","shiftKey","altKey","button","preventDefault","setPath","getAddress","getHash","top","getBoundingClientRect","pageYOffset","customTransition","swupTransition","_this2","exists","resolve","reject","response","request","status","route","form","formData","FormData","action","method","toLowerCase","data","inputs","input","checked","encodeURIComponent","name","slice","./Cache","./Link","./modules/classify","./modules/createState","./modules/doScrolling","./modules/getDataFromHtml","./modules/getUrl","./modules/loadPage","./modules/log","./modules/markSwupElements","./modules/off","./modules/on","./modules/preloadPage","./modules/preloadPages","./modules/renderPage","./modules/request","./modules/scrollTo","./modules/triggerEvent","./modules/updateTransition","./modules/usePlugin","./modules/utils","./transitionEnd","delegate","10","text","output","replace","splice","11","pushState","split","hostname","getElementsByTagName","innerText","12","popstate","13","html","content","fakeDom","innerHTML","blocks","index","push","pageClass","className","originalContent","responseURL","./utils","14","15","animationPromises","animatedElements","promise","all","then","pop","xhrPromise","concat","catch","errorUrl","go","16","str","17","18","handler","filter","savedHandler","toRemove","19","20","_Link","../Link","21","22","getPath","includes","promises","classItem","RegExp","test","23","undefined","XMLHttpRequest","onreadystatechange","readyState","responseText","open","setRequestHeader","send","24","animatedScroll","friction","acceleration","positionY","velocityY","targetPositionY","targetPositionYWithOffset","direction","raf","animate","distance","applyForce","update","render","force","cancelAnimationFrame","passive","offset","scrollTop","25","eventName","originalEvent","error","CustomEvent","detail","dispatchEvent","26","custom","27","plugin","exec","28","query","context","29","el","transEndEventNames","WebkitTransition","MozTransition","OTransition","style","30","_swup2","_getAnimation2","_createAnimationPromise2","Swupjs","_Swup","self","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","getAnimation","createAnimationPromise","subClass","superClass","create","constructor","setPrototypeOf","_inherits","./modules/createAnimationPromise","./modules/getAnimation","31","fn","32","animation","topRating","rating","33","animationPromise","34","swup/lib/Link"],"mappings":"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","file":"main.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.toggleNav = toggleNav;\n\n// Toggle Nav Menu\nfunction toggleNav() {\n  var header = document.querySelector(\"header\"),\n      nav = document.querySelector(\"nav\"),\n      navButton = document.querySelector(\".header-nav-button\"),\n      navLink = document.querySelectorAll(\"nav a\"),\n      siteTitle = document.querySelector(\".site-title\"); // Set up the nav items so they slide and fade in\n\n  TweenMax.set(\"nav ul>*\", {\n    autoAlpha: 0,\n    y: +50\n  });\n\n  function openMenu() {\n    nav.classList.toggle(\"hidden\");\n    header.classList.toggle(\"header-nav-active\");\n    var tl = new TimelineMax();\n    tl.to(\"header\", 0, {\n      backgroundColor: \"rgba(245, 245, 245, 1)\"\n    }).staggerTo(\"nav ul>*\", .4, {\n      autoAlpha: 1,\n      y: 0,\n      ease: Power1.easeInOut\n    }, .02, .1);\n  }\n\n  ;\n\n  function closeMenu() {\n    var tl = new TimelineMax();\n    tl.to(\"nav ul>*\", .2, {\n      autoAlpha: 0\n    }).to(\"header\", .2, {\n      backgroundColor: \"transparent\"\n    }).set(\"nav ul>*\", {\n      y: +50\n    }); // .set(\"header\", {backgroundColor:\"transparent\"});\n\n    setTimeout(function () {\n      nav.classList.toggle(\"hidden\");\n      header.classList.toggle(\"header-nav-active\");\n    }, 410);\n  }\n\n  ; // Open and close the menu when menu button is clicked\n\n  navButton.addEventListener(\"click\", function () {\n    nav.classList.contains(\"hidden\") ? openMenu() : closeMenu();\n  }, false); // Close the menu when a nav link is clicked\n\n  Array.from(navLink).forEach(function (link) {\n    link.addEventListener(\"click\", function () {\n      // console.log(\"click\");\n      closeMenu();\n    }, false);\n  }); // Close the Nav menu the Site Title is clicked\n\n  siteTitle.addEventListener(\"click\", function () {\n    if (header.classList.contains(\"header-nav-active\")) {\n      closeMenu();\n    }\n  }, false);\n}\n\n;\n\n},{}],2:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.skillScroll = skillScroll;\n\n// Skills Arrow Button using GSAP\nfunction skillScroll() {\n  var skillContainer = document.querySelector(\".skill-card-container\");\n\n  if (skillContainer) {\n    // Run script only if skillContainer exists\n    var skillArrowL = document.querySelector(\".btn-skill.btn-arrow-left\"),\n        skillArrowR = document.querySelector(\".btn-skill.btn-arrow-right\"),\n        setArrow = function setArrow(LR, alpha) {\n      TweenMax.set(LR, {\n        autoAlpha: alpha\n      });\n    },\n        showArrow = function showArrow(LR, alpha) {\n      TweenMax.to(LR, .1, {\n        autoAlpha: alpha\n      });\n    };\n\n    var mediaMed = window.matchMedia(\"(min-width: 768px)\").matches,\n        // These should match the media queries in Sass\n    mediaWide = window.matchMedia(\"(min-width: 1200px)\").matches,\n        containerWidth = skillContainer.scrollWidth,\n        viewportWidth = document.documentElement.clientWidth,\n        maxAmount = containerWidth - viewportWidth,\n        scrollAmount = 0,\n        // 0 Starting value, will be updated on scroll or click\n    skillCard = document.querySelector(\".skill-card\").offsetWidth,\n        scrollStep = mediaWide ? skillCard * 3 + 144 : // 3 = number of whole cards displayed, 144 = 3 grid gaps\n    mediaMed ? skillCard * 2 + 96 : // 2 = number of whole cards displayed, 96 = 2 grid gaps\n    skillCard + viewportWidth / 20,\n        // viewportWidth / 20 = 5% grid gap\n    scrollSpeed = .5,\n        ticking = false,\n        onresize = function onresize(e) {\n      if (skillContainer) {\n        var _mediaMed = window.matchMedia(\"(min-width: 768px)\").matches,\n            // Update when window size changes\n        _mediaWide = window.matchMedia(\"(min-width: 1200px)\").matches,\n            newContainerWidth = skillContainer.scrollWidth,\n            newViewportWidth = document.documentElement.clientWidth,\n            newSkillCard = document.querySelector(\".skill-card\").offsetWidth;\n        maxAmount = newContainerWidth - newViewportWidth;\n        _mediaWide ? scrollStep = newSkillCard * 3 + 144 : // 3 = number of whole cards displayed, 144 = 3 grid gaps\n        _mediaMed ? scrollStep = newSkillCard * 2 + 96 : // 2 = number of whole cards displayed, 96 = 2 grid gaps\n        scrollStep = newSkillCard + newViewportWidth / 20; // viewportWidth / 20 = 5% grid gap\n\n        if (!ticking) {\n          window.requestAnimationFrame(function () {\n            newContainerWidth <= newViewportWidth ? showArrow(skillArrowR, 0) : showArrow(skillArrowR, 1); // console.log(scrollStep);\n\n            ticking = false;\n          });\n          ticking = true;\n        }\n      }\n    },\n        onscroll = function onscroll(e) {\n      var newAmount = skillContainer.scrollLeft;\n      scrollAmount = newAmount;\n\n      if (!ticking) {\n        window.requestAnimationFrame(function () {\n          scrollAmount < maxAmount ? showArrow(skillArrowR, 1) : showArrow(skillArrowR, 0);\n          scrollAmount == \"0\" ? showArrow(skillArrowL, 0) : showArrow(skillArrowL, 1); // console.log(scrollAmount);\n\n          ticking = false;\n        });\n        ticking = true;\n      }\n    };\n\n    skillContainer.addEventListener(\"scroll\", onscroll); // Check which arrows are needed when user scrolls\n\n    window.addEventListener(\"resize\", onresize); // Check if arrows are needed if window is resized\n\n    setArrow(skillArrowL, 0); //Always start with Left Arrow hidden\n\n    containerWidth <= viewportWidth ? setArrow(skillArrowR, 0) : setArrow(skillArrowR, 1); // Check widths and hide Right Arrow if needed\n\n    skillArrowR.addEventListener(\"click\", function () {\n      if (scrollAmount + scrollStep < maxAmount) {\n        var newAmount = scrollAmount + scrollStep;\n        scrollAmount = newAmount;\n      } else {\n        scrollAmount = maxAmount;\n      }\n\n      TweenMax.to(skillContainer, scrollSpeed, {\n        scrollTo: {\n          x: scrollAmount\n        }\n      }); // console.log(maxAmount, scrollAmount);\n    }, false);\n    skillArrowL.addEventListener(\"click\", function () {\n      if (scrollAmount - scrollStep > \"0\") {\n        var newAmount = scrollAmount - scrollStep;\n        scrollAmount = newAmount;\n      } else {\n        scrollAmount = 0;\n      }\n\n      TweenMax.to(skillContainer, scrollSpeed, {\n        scrollTo: {\n          x: scrollAmount\n        }\n      }); // console.log(maxAmount, scrollAmount);\n    }, false);\n  }\n}\n\n;\n\n},{}],3:[function(require,module,exports){\n\"use strict\";\n\nvar _customScripts = require(\"./custom-scripts\");\n\nvar _animation = require(\"./animation\");\n\nvar _transitions = require(\"./transitions\");\n\nvar _swupjs = _interopRequireDefault(require(\"swupjs\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n// import \"./hoverintent\";\n// import { prefetch } from \"./prefetch\";\n// import { prefetchnew } from \"./prefetchnew\";\nvar options = {\n  // elements: ['body']\n  doScrollingRightAway: true,\n  animateScroll: false,\n  animations: {\n    '*': {\n      \"in\": function _in(next) {\n        // document.querySelector('#swup').style.opacity = 0;\n        // TweenLite.to(document.querySelector('#swup'), .5, {\n        //     opacity: 1,\n        //     onComplete: next\n        // });\n        next();\n      },\n      out: function out(next) {\n        // document.querySelector('#swup').style.opacity = 1;\n        // TweenLite.to(document.querySelector('#swup'), .5, {\n        //     opacity: 0,\n        //     onComplete: next\n        // });\n        next();\n      }\n    }\n  }\n};\nvar swupjs = new _swupjs[\"default\"](options); // Initiate scripts \n\n(0, _animation.toggleNav)();\n(0, _customScripts.skillScroll)(); // Reload scripts that run in content that changes, ie, Main, but not Header  \n\ndocument.addEventListener('swup:contentReplaced', function () {\n  (0, _customScripts.skillScroll)();\n}); // document.addEventListener(\"turbolinks:load\", function() {\n// \n// skillScroll();\n// toggleNav(); \n// prefetch();\n// prefetchnew();\n// \n// TweenMax.set(\".transition\", {transform: 'translateY(100vh)'});\n// TweenMax.to(\".transition\", 2, {transform: 'translateY(-200vh)'});\n// \n// document.addEventListener(\"turbolinks:visit\", function() {\n// TweenMax.to(\".transition\", 1, {top:0});\n// transitions();\n// TweenMax.set(\".transition\", {top:300});\n// TweenMax.to(\".transition\", 2, {transform: 'translateY(-50px)'});\n// });\n// \n// });\n\n},{\"./animation\":1,\"./custom-scripts\":2,\"./transitions\":4,\"swupjs\":30}],4:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.transitions = transitions;\n\nfunction transitions() {\n  // rect = document.querySelector(\".transition\");\n  TweenMax.to(\".transition\", 5, {\n    y: -1000\n  });\n}\n\n;\n\n},{}],5:[function(require,module,exports){\nvar DOCUMENT_NODE_TYPE = 9;\n\n/**\n * A polyfill for Element.matches()\n */\nif (typeof Element !== 'undefined' && !Element.prototype.matches) {\n    var proto = Element.prototype;\n\n    proto.matches = proto.matchesSelector ||\n                    proto.mozMatchesSelector ||\n                    proto.msMatchesSelector ||\n                    proto.oMatchesSelector ||\n                    proto.webkitMatchesSelector;\n}\n\n/**\n * Finds the closest parent that matches a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @return {Function}\n */\nfunction closest (element, selector) {\n    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {\n        if (typeof element.matches === 'function' &&\n            element.matches(selector)) {\n          return element;\n        }\n        element = element.parentNode;\n    }\n}\n\nmodule.exports = closest;\n\n},{}],6:[function(require,module,exports){\nvar closest = require('./closest');\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction delegate(element, selector, type, callback, useCapture) {\n    var listenerFn = listener.apply(this, arguments);\n\n    element.addEventListener(type, listenerFn, useCapture);\n\n    return {\n        destroy: function() {\n            element.removeEventListener(type, listenerFn, useCapture);\n        }\n    }\n}\n\n/**\n * Finds closest match and invokes callback.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Function}\n */\nfunction listener(element, selector, type, callback) {\n    return function(e) {\n        e.delegateTarget = closest(e.target, selector);\n\n        if (e.delegateTarget) {\n            callback.call(element, e);\n        }\n    }\n}\n\nmodule.exports = delegate;\n\n},{\"./closest\":5}],7:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Cache = function () {\n    function Cache() {\n        _classCallCheck(this, Cache);\n\n        this.pages = {};\n        this.count = 0;\n        this.last = null;\n    }\n\n    _createClass(Cache, [{\n        key: 'cacheUrl',\n        value: function cacheUrl(page, displayCache) {\n            this.count++;\n            if (page.url in this.pages === false) {\n                this.pages[page.url] = page;\n            }\n            this.last = this.pages[page.url];\n            if (displayCache) {\n                this.displayCache();\n            }\n        }\n    }, {\n        key: 'getPage',\n        value: function getPage(url) {\n            return this.pages[url];\n        }\n    }, {\n        key: 'displayCache',\n        value: function displayCache() {\n            console.groupCollapsed('Cache (' + Object.keys(this.pages).length + ')');\n            for (var key in this.pages) {\n                console.log(this.pages[key]);\n            }\n            console.groupEnd();\n        }\n    }, {\n        key: 'exists',\n        value: function exists(url) {\n            if (url in this.pages) return true;\n            return false;\n        }\n    }, {\n        key: 'empty',\n        value: function empty(showLog) {\n            this.pages = {};\n            this.count = 0;\n            this.last = null;\n            if (showLog) {\n                console.log('Cache cleared');\n            }\n        }\n    }, {\n        key: 'remove',\n        value: function remove(url) {\n            delete this.pages[url];\n        }\n    }]);\n\n    return Cache;\n}();\n\nexports.default = Cache;\n},{}],8:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Link = function () {\n    function Link() {\n        _classCallCheck(this, Link);\n\n        this.link = document.createElement(\"a\");\n    }\n\n    _createClass(Link, [{\n        key: 'setPath',\n        value: function setPath(href) {\n            this.link.href = href;\n        }\n    }, {\n        key: 'getPath',\n        value: function getPath() {\n            var path = this.link.pathname;\n            if (path[0] != '/') {\n                path = '/' + path;\n            }\n            return path;\n        }\n    }, {\n        key: 'getAddress',\n        value: function getAddress() {\n            var path = this.link.pathname + this.link.search;\n            if (path[0] != '/') {\n                path = '/' + path;\n            }\n            return path;\n        }\n    }, {\n        key: 'getHash',\n        value: function getHash() {\n            return this.link.hash;\n        }\n    }]);\n\n    return Link;\n}();\n\nexports.default = Link;\n},{}],9:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n// helpers\n\n\n// modules\n\n\nvar _delegate = require('delegate');\n\nvar _delegate2 = _interopRequireDefault(_delegate);\n\nvar _Cache = require('./Cache');\n\nvar _Cache2 = _interopRequireDefault(_Cache);\n\nvar _Link = require('./Link');\n\nvar _Link2 = _interopRequireDefault(_Link);\n\nvar _transitionEnd = require('./transitionEnd');\n\nvar _transitionEnd2 = _interopRequireDefault(_transitionEnd);\n\nvar _request = require('./modules/request');\n\nvar _request2 = _interopRequireDefault(_request);\n\nvar _getDataFromHtml = require('./modules/getDataFromHtml');\n\nvar _getDataFromHtml2 = _interopRequireDefault(_getDataFromHtml);\n\nvar _loadPage = require('./modules/loadPage');\n\nvar _loadPage2 = _interopRequireDefault(_loadPage);\n\nvar _renderPage = require('./modules/renderPage');\n\nvar _renderPage2 = _interopRequireDefault(_renderPage);\n\nvar _createState = require('./modules/createState');\n\nvar _createState2 = _interopRequireDefault(_createState);\n\nvar _triggerEvent = require('./modules/triggerEvent');\n\nvar _triggerEvent2 = _interopRequireDefault(_triggerEvent);\n\nvar _getUrl = require('./modules/getUrl');\n\nvar _getUrl2 = _interopRequireDefault(_getUrl);\n\nvar _scrollTo = require('./modules/scrollTo');\n\nvar _scrollTo2 = _interopRequireDefault(_scrollTo);\n\nvar _classify = require('./modules/classify');\n\nvar _classify2 = _interopRequireDefault(_classify);\n\nvar _doScrolling = require('./modules/doScrolling');\n\nvar _doScrolling2 = _interopRequireDefault(_doScrolling);\n\nvar _markSwupElements = require('./modules/markSwupElements');\n\nvar _markSwupElements2 = _interopRequireDefault(_markSwupElements);\n\nvar _on = require('./modules/on');\n\nvar _on2 = _interopRequireDefault(_on);\n\nvar _off = require('./modules/off');\n\nvar _off2 = _interopRequireDefault(_off);\n\nvar _updateTransition = require('./modules/updateTransition');\n\nvar _updateTransition2 = _interopRequireDefault(_updateTransition);\n\nvar _preloadPage = require('./modules/preloadPage');\n\nvar _preloadPage2 = _interopRequireDefault(_preloadPage);\n\nvar _preloadPages = require('./modules/preloadPages');\n\nvar _preloadPages2 = _interopRequireDefault(_preloadPages);\n\nvar _usePlugin = require('./modules/usePlugin');\n\nvar _usePlugin2 = _interopRequireDefault(_usePlugin);\n\nvar _log = require('./modules/log');\n\nvar _log2 = _interopRequireDefault(_log);\n\nvar _utils = require('./modules/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Swup = function () {\n    function Swup(setOptions) {\n        _classCallCheck(this, Swup);\n\n        // default options\n        var defaults = {\n            cache: true,\n            animationSelector: '[class*=\"transition-\"]',\n            elements: ['#swup'],\n            pageClassPrefix: '',\n            debugMode: false,\n            scroll: true,\n\n            doScrollingRightAway: false,\n            animateScroll: true,\n            scrollFriction: .3,\n            scrollAcceleration: .04,\n\n            preload: true,\n            support: true,\n            plugins: [],\n\n            skipPopStateHandling: function skipPopStateHandling(event) {\n                if (event.state && event.state.source == \"swup\") {\n                    return false;\n                }\n                return true;\n            },\n            animateHistoryBrowsing: false,\n\n            LINK_SELECTOR: 'a[href^=\"' + window.location.origin + '\"]:not([data-no-swup]), a[href^=\"/\"]:not([data-no-swup]), a[href^=\"#\"]:not([data-no-swup])',\n            FORM_SELECTOR: 'form[data-swup-form]'\n\n            /**\n             * current transition object\n             */\n        };this.transition = {};\n\n        var options = _extends({}, defaults, setOptions);\n\n        /**\n         * handler arrays\n         */\n        this._handlers = {\n            animationInDone: [],\n            animationInStart: [],\n            animationOutDone: [],\n            animationOutStart: [],\n            animationSkipped: [],\n            clickLink: [],\n            contentReplaced: [],\n            disabled: [],\n            enabled: [],\n            hoverLink: [],\n            openPageInNewTab: [],\n            pageLoaded: [],\n            pagePreloaded: [],\n            pageRetrievedFromCache: [],\n            pageView: [],\n            popState: [],\n            samePage: [],\n            samePageWithHash: [],\n            scrollDone: [],\n            scrollStart: [],\n            serverError: [],\n            submitForm: [],\n            willReplaceContent: []\n        };\n\n        /**\n         * helper variables\n         */\n        // id of element to scroll to after render\n        this.scrollToElement = null;\n        // promise used for preload, so no new loading of the same page starts while page is loading\n        this.preloadPromise = null;\n        // save options\n        this.options = options;\n        // plugins array\n        this.plugins = [];\n\n        /**\n         * make modules accessible in instance\n         */\n        this.getUrl = _getUrl2.default;\n        this.cache = new _Cache2.default();\n        this.link = new _Link2.default();\n        this.transitionEndEvent = (0, _transitionEnd2.default)();\n        this.getDataFromHtml = _getDataFromHtml2.default;\n        this.getPage = _request2.default;\n        this.scrollTo = _scrollTo2.default;\n        this.loadPage = _loadPage2.default;\n        this.renderPage = _renderPage2.default;\n        this.createState = _createState2.default;\n        this.triggerEvent = _triggerEvent2.default;\n        this.classify = _classify2.default;\n        this.doScrolling = _doScrolling2.default;\n        this.markSwupElements = _markSwupElements2.default;\n        this.on = _on2.default;\n        this.off = _off2.default;\n        this.updateTransition = _updateTransition2.default;\n        this.preloadPage = _preloadPage2.default;\n        this.preloadPages = _preloadPages2.default;\n        this.usePlugin = _usePlugin2.default;\n        this.log = _log2.default;\n        this.enable = this.enable;\n        this.destroy = this.destroy;\n\n        // attach instance to window in debug mode\n        if (this.options.debugMode) {\n            window.swup = this;\n        }\n\n        this.getUrl();\n        this.enable();\n    }\n\n    _createClass(Swup, [{\n        key: 'enable',\n        value: function enable() {\n            var _this = this;\n\n            /**\n             * support check\n             */\n            if (this.options.support) {\n                // check pushState support\n                if (!('pushState' in window.history)) {\n                    console.warn('pushState is not supported');\n                    return;\n                }\n                // check transitionEnd support\n                if ((0, _transitionEnd2.default)()) {\n                    this.transitionEndEvent = (0, _transitionEnd2.default)();\n                } else {\n                    console.warn('transitionEnd detection is not supported');\n                    return;\n                }\n                // check Promise support\n                if (typeof Promise === \"undefined\" || Promise.toString().indexOf(\"[native code]\") === -1) {\n                    console.warn('Promise is not supported');\n                    return;\n                }\n            }\n\n            // variable to keep event listeners from \"delegate\"\n            this.delegatedListeners = {};\n\n            /**\n             * link click handler\n             */\n            this.delegatedListeners.click = (0, _delegate2.default)(document, this.options.LINK_SELECTOR, 'click', this.linkClickHandler.bind(this));\n\n            /**\n             * link mouseover handler (preload)\n             */\n            this.delegatedListeners.mouseover = (0, _delegate2.default)(document.body, this.options.LINK_SELECTOR, 'mouseover', this.linkMouseoverHandler.bind(this));\n\n            /**\n             * form submit handler\n             */\n            this.delegatedListeners.formSubmit = (0, _delegate2.default)(document, this.options.FORM_SELECTOR, 'submit', this.formSubmitHandler.bind(this));\n\n            /**\n             * popstate handler\n             */\n            window.addEventListener('popstate', this.popStateHandler.bind(this));\n\n            /**\n             * initial save to cache\n             */\n            var page = this.getDataFromHtml(document.documentElement.outerHTML);\n            page.url = this.currentUrl;\n            if (this.options.cache) {\n                this.cache.cacheUrl(page, this.options.debugMode);\n            }\n\n            /**\n             * mark swup blocks in html\n             */\n            this.markSwupElements(document.documentElement);\n\n            /**\n             * enable plugins from options\n             */\n            this.options.plugins.forEach(function (item) {\n                return _this.usePlugin(item);\n            });\n\n            /**\n             * modify initial history record\n             */\n            window.history.replaceState(Object.assign({}, window.history.state, {\n                url: window.location.href,\n                random: Math.random(),\n                source: \"swup\"\n            }), document.title, window.location.href);\n\n            /**\n             * Disable browser scroll control on popstates when animateHistoryBrowsing option is enabled\n             */\n            if (this.options.animateHistoryBrowsing) {\n                window.history.scrollRestoration = \"manual\";\n            }\n\n            /**\n             * trigger enabled event\n             */\n            this.triggerEvent('enabled');\n            document.documentElement.classList.add('swup-enabled');\n\n            /**\n             * trigger page view event\n             */\n            this.triggerEvent('pageView');\n\n            /**\n             * preload pages if possible\n             */\n            this.preloadPages();\n        }\n    }, {\n        key: 'destroy',\n        value: function destroy() {\n            // remove delegated listeners\n            this.delegatedListeners.click.destroy();\n            this.delegatedListeners.mouseover.destroy();\n\n            // remove popstate listener\n            window.removeEventListener('popstate', this.popStateHandler.bind(this));\n\n            // empty cache\n            this.cache.empty();\n\n            // remove swup data atributes from blocks\n            (0, _utils.queryAll)('[data-swup]').forEach(function (element) {\n                delete element.dataset.swup;\n            });\n\n            // remove handlers\n            this.off();\n\n            this.triggerEvent('disabled');\n            document.documentElement.classList.remove('swup-enabled');\n        }\n    }, {\n        key: 'linkClickHandler',\n        value: function linkClickHandler(event) {\n            // no control key pressed\n            if (!event.metaKey && !event.ctrlKey && !event.shiftKey && !event.altKey) {\n                // index of pressed button needs to be checked because Firefox triggers click on all mouse buttons\n                if (event.button === 0) {\n                    this.triggerEvent('clickLink', event);\n                    var link = new _Link2.default();\n                    event.preventDefault();\n                    link.setPath(event.delegateTarget.href);\n\n                    if (link.getAddress() == this.currentUrl || link.getAddress() == '') {\n                        // link to the same URL\n                        if (link.getHash() != '') {\n                            // link to the same URL with hash\n                            this.triggerEvent('samePageWithHash', event);\n                            var element = document.querySelector(link.getHash());\n                            if (element != null) {\n                                // referenced element found\n                                if (this.options.scroll) {\n                                    var top = element.getBoundingClientRect().top + window.pageYOffset;\n                                    this.scrollTo(document.body, top);\n                                }\n                                history.replaceState({\n                                    url: link.getAddress() + link.getHash(),\n                                    random: Math.random(),\n                                    source: \"swup\"\n                                }, document.title, link.getAddress() + link.getHash());\n                            } else {\n                                // referenced element not found\n                                console.warn('Element for offset not found (' + link.getHash() + ')');\n                            }\n                        } else {\n                            // link to the same URL without hash\n                            this.triggerEvent('samePage', event);\n                            if (this.options.scroll) {\n                                this.scrollTo(document.body, 0, 1);\n                            }\n                        }\n                    } else {\n                        // link to different url\n                        if (link.getHash() != '') {\n                            this.scrollToElement = link.getHash();\n                        }\n\n                        // get custom transition from data\n                        var customTransition = event.delegateTarget.dataset.swupTransition;\n\n                        // load page\n                        this.loadPage({ url: link.getAddress(), customTransition: customTransition }, false);\n                    }\n                }\n            } else {\n                // open in new tab (do nothing)\n                this.triggerEvent('openPageInNewTab', event);\n            }\n        }\n    }, {\n        key: 'linkMouseoverHandler',\n        value: function linkMouseoverHandler(event) {\n            var _this2 = this;\n\n            this.triggerEvent('hoverLink', event);\n            if (this.options.preload) {\n                var link = new _Link2.default();\n                link.setPath(event.delegateTarget.href);\n                if (link.getAddress() != this.currentUrl && !this.cache.exists(link.getAddress()) && this.preloadPromise == null) {\n                    this.preloadPromise = new Promise(function (resolve, reject) {\n                        _this2.getPage({ url: link.getAddress() }, function (response, request) {\n                            if (request.status === 500) {\n                                _this2.triggerEvent('serverError', event);\n                                reject(link.getAddress());\n                                return;\n                            } else {\n                                // get json data\n                                var page = _this2.getDataFromHtml(response, request);\n                                if (page != null) {\n                                    page.url = link.getAddress();\n                                    _this2.cache.cacheUrl(page, _this2.options.debugMode);\n                                    _this2.triggerEvent('pagePreloaded', event);\n                                } else {\n                                    reject(link.getAddress());\n                                    return;\n                                }\n                            }\n                            resolve();\n                            _this2.preloadPromise = null;\n                        });\n                    });\n                    this.preloadPromise.route = link.getAddress();\n                }\n            }\n        }\n    }, {\n        key: 'formSubmitHandler',\n        value: function formSubmitHandler(event) {\n            // no control key pressed\n            if (!event.metaKey) {\n                this.triggerEvent('submitForm', event);\n                event.preventDefault();\n                var form = event.target;\n                var formData = new FormData(form);\n\n                var link = new _Link2.default();\n                link.setPath(form.action);\n\n                if (link.getHash() != '') {\n                    this.scrollToElement = link.getHash();\n                }\n\n                if (form.method.toLowerCase() != \"get\") {\n                    // remove page from cache\n                    this.cache.remove(link.getAddress());\n\n                    // send data\n                    this.loadPage({\n                        url: link.getAddress(),\n                        method: form.method,\n                        data: formData\n                    });\n                } else {\n                    // create base url\n                    var url = link.getAddress() || window.location.href;\n                    var inputs = (0, _utils.queryAll)('input, select', form);\n                    if (url.indexOf('?') == -1) {\n                        url += \"?\";\n                    } else {\n                        url += \"&\";\n                    }\n\n                    // add form data to url\n                    inputs.forEach(function (input) {\n                        if (input.type == \"checkbox\" || input.type == \"radio\") {\n                            if (input.checked) {\n                                url += encodeURIComponent(input.name) + \"=\" + encodeURIComponent(input.value) + \"&\";\n                            }\n                        } else {\n                            url += encodeURIComponent(input.name) + \"=\" + encodeURIComponent(input.value) + \"&\";\n                        }\n                    });\n\n                    // remove last \"&\"\n                    url = url.slice(0, -1);\n\n                    // remove page from cache\n                    this.cache.remove(url);\n\n                    // send data\n                    this.loadPage({\n                        url: url\n                    });\n                }\n            } else {\n                this.triggerEvent('openFormSubmitInNewTab', event);\n            }\n        }\n    }, {\n        key: 'popStateHandler',\n        value: function popStateHandler(event) {\n            var link = new _Link2.default();\n            if (this.options.skipPopStateHandling(event)) return;\n            link.setPath(event.state ? event.state.url : window.location.pathname);\n            if (link.getHash() != '') {\n                this.scrollToElement = link.getHash();\n            } else {\n                event.preventDefault();\n            }\n            this.triggerEvent('popState', event);\n            this.loadPage({ url: link.getAddress() }, event);\n        }\n    }]);\n\n    return Swup;\n}();\n\nexports.default = Swup;\n},{\"./Cache\":7,\"./Link\":8,\"./modules/classify\":10,\"./modules/createState\":11,\"./modules/doScrolling\":12,\"./modules/getDataFromHtml\":13,\"./modules/getUrl\":14,\"./modules/loadPage\":15,\"./modules/log\":16,\"./modules/markSwupElements\":17,\"./modules/off\":18,\"./modules/on\":19,\"./modules/preloadPage\":20,\"./modules/preloadPages\":21,\"./modules/renderPage\":22,\"./modules/request\":23,\"./modules/scrollTo\":24,\"./modules/triggerEvent\":25,\"./modules/updateTransition\":26,\"./modules/usePlugin\":27,\"./modules/utils\":28,\"./transitionEnd\":29,\"delegate\":6}],10:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function (text) {\n    var output = text.toString().toLowerCase().replace(/\\s+/g, '-') // Replace spaces with -\n    .replace(/\\//g, '-') // Replace / with -\n    .replace(/[^\\w\\-]+/g, '') // Remove all non-word chars\n    .replace(/\\-\\-+/g, '-') // Replace multiple - with single -\n    .replace(/^-+/, '') // Trim - from start of text\n    .replace(/-+$/, ''); // Trim - from end of text\n    if (output[0] == \"/\") output = output.splice(1);\n    if (output == '') output = 'homepage';\n    return output;\n};\n},{}],11:[function(require,module,exports){\n\"use strict\";\n\nmodule.exports = function (url) {\n    window.history.pushState({\n        url: url || window.location.href.split(window.location.hostname)[1],\n        random: Math.random(),\n        source: \"swup\"\n    }, document.getElementsByTagName('title')[0].innerText, url || window.location.href.split(window.location.hostname)[1]);\n};\n},{}],12:[function(require,module,exports){\n\"use strict\";\n\nmodule.exports = function (popstate) {\n    if (this.options.scroll && (!popstate || this.options.animateHistoryBrowsing)) {\n        if (this.scrollToElement != null) {\n            var element = document.querySelector(this.scrollToElement);\n            if (element != null) {\n                var top = element.getBoundingClientRect().top + window.pageYOffset;\n                this.scrollTo(document.body, top);\n            } else {\n                console.warn(\"Element for offset not found (\" + this.scrollToElement + \")\");\n            }\n            this.scrollToElement = null;\n        } else {\n            this.scrollTo(document.body, 0);\n        }\n    }\n};\n},{}],13:[function(require,module,exports){\n'use strict';\n\nvar _utils = require('./utils');\n\nmodule.exports = function (html, request) {\n    var _this = this;\n\n    var content = html.replace('<body', '<div id=\"swupBody\"').replace('</body>', '</div>');\n    var fakeDom = document.createElement('div');\n    fakeDom.innerHTML = content;\n    var blocks = [];\n\n    for (var i = 0; i < this.options.elements.length; i++) {\n        if (fakeDom.querySelector(this.options.elements[i]) == null) {\n            console.warn('Element ' + this.options.elements[i] + ' is not found in cached page.');\n            return null;\n        } else {\n            (0, _utils.queryAll)(this.options.elements[i]).forEach(function (item, index) {\n                (0, _utils.queryAll)(_this.options.elements[i], fakeDom)[index].dataset.swup = blocks.length;\n                blocks.push((0, _utils.queryAll)(_this.options.elements[i], fakeDom)[index].outerHTML);\n            });\n        }\n    }\n\n    var json = {\n        title: fakeDom.querySelector('title').innerText,\n        pageClass: fakeDom.querySelector('#swupBody').className,\n        originalContent: html,\n        blocks: blocks,\n        responseURL: request != null ? request.responseURL : window.location.href\n    };\n    return json;\n};\n},{\"./utils\":28}],14:[function(require,module,exports){\n\"use strict\";\n\nmodule.exports = function () {\n    this.currentUrl = window.location.pathname + window.location.search;\n};\n},{}],15:[function(require,module,exports){\n'use strict';\n\nvar _utils = require('./utils');\n\nvar forEach = Array.prototype.forEach;\n\n\nmodule.exports = function (data, popstate) {\n    var _this = this;\n\n    // scrolling\n    if (this.options.doScrollingRightAway && !this.scrollToElement) {\n        this.doScrolling(popstate);\n    }\n\n    // create array for storing animation promises\n    var animationPromises = [];\n\n    // set transition object\n    if (data.customTransition != null) {\n        this.updateTransition(window.location.pathname, data.url, data.customTransition);\n        document.documentElement.classList.add('to-' + this.classify(data.customTransition));\n    } else {\n        this.updateTransition(window.location.pathname, data.url);\n    }\n\n    if (!popstate || this.options.animateHistoryBrowsing) {\n        // start animation\n        this.triggerEvent('animationOutStart');\n        document.documentElement.classList.add('is-changing');\n        document.documentElement.classList.add('is-leaving');\n        document.documentElement.classList.add('is-animating');\n        if (popstate) {\n            document.documentElement.classList.add('is-popstate');\n        }\n        document.documentElement.classList.add('to-' + this.classify(data.url));\n\n        // detect animation end\n        var animatedElements = (0, _utils.queryAll)(this.options.animationSelector);\n        forEach.call(animatedElements, function (element) {\n            var promise = new Promise(function (resolve) {\n                element.addEventListener(_this.transitionEndEvent, function (event) {\n                    if (element == event.target) {\n                        resolve();\n                    }\n                });\n            });\n            animationPromises.push(promise);\n        });\n\n        Promise.all(animationPromises).then(function () {\n            _this.triggerEvent('animationOutDone');\n        });\n\n        // create pop element with or without anchor\n        if (this.scrollToElement != null) {\n            var pop = data.url + this.scrollToElement;\n        } else {\n            var pop = data.url;\n        }\n        if (!popstate) this.createState(pop);\n    } else {\n        // proceed without animating\n        this.triggerEvent('animationSkipped');\n    }\n\n    if (this.cache.exists(data.url)) {\n        var xhrPromise = new Promise(function (resolve) {\n            resolve();\n        });\n        this.triggerEvent('pageRetrievedFromCache');\n    } else {\n        if (!this.preloadPromise || this.preloadPromise.route != data.url) {\n            var xhrPromise = new Promise(function (resolve, reject) {\n                _this.getPage(data, function (response, request) {\n                    if (request.status === 500) {\n                        _this.triggerEvent('serverError');\n                        reject(data.url);\n                        return;\n                    } else {\n                        // get json data\n                        var page = _this.getDataFromHtml(response, request);\n                        if (page != null) {\n                            page.url = data.url;\n                        } else {\n                            reject(data.url);\n                            return;\n                        }\n                        // render page\n                        _this.cache.cacheUrl(page, _this.options.debugMode);\n                        _this.triggerEvent('pageLoaded');\n                    }\n                    resolve();\n                });\n            });\n        } else {\n            var xhrPromise = this.preloadPromise;\n        }\n    }\n\n    Promise.all(animationPromises.concat([xhrPromise])).then(function () {\n        // render page\n        _this.renderPage(_this.cache.getPage(data.url), popstate);\n        _this.preloadPromise = null;\n    }).catch(function (errorUrl) {\n        // rewrite the skipPopStateHandling function to redirect manually when the history.go is processed\n        _this.options.skipPopStateHandling = function () {\n            window.location = errorUrl;\n            return true;\n        };\n\n        // go back to the actual page were still at\n        window.history.go(-1);\n    });\n};\n},{\"./utils\":28}],16:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function (str) {\n    if (this.options.debugMode) {\n        console.log(str + '%c', 'color: #009ACD');\n    }\n};\n},{}],17:[function(require,module,exports){\n\"use strict\";\n\nvar _utils = require(\"./utils\");\n\nmodule.exports = function (element) {\n    var _this = this;\n\n    var blocks = 0;\n\n    for (var i = 0; i < this.options.elements.length; i++) {\n        if (element.querySelector(this.options.elements[i]) == null) {\n            console.warn(\"Element \" + this.options.elements[i] + \" is not in current page.\");\n        } else {\n            (0, _utils.queryAll)(this.options.elements[i]).forEach(function (item, index) {\n                (0, _utils.queryAll)(_this.options.elements[i], element)[index].dataset.swup = blocks;\n                blocks++;\n            });\n        }\n    }\n};\n},{\"./utils\":28}],18:[function(require,module,exports){\n\"use strict\";\n\nmodule.exports = function off(event, handler) {\n    var _this = this;\n\n    if (event != null) {\n        if (handler != null) {\n            if (this._handlers[event] && this._handlers[event].filter(function (savedHandler) {\n                return savedHandler === handler;\n            }).length) {\n                var toRemove = this._handlers[event].filter(function (savedHandler) {\n                    return savedHandler === handler;\n                })[0];\n                var index = this._handlers[event].indexOf(toRemove);\n                if (index > -1) {\n                    this._handlers[event].splice(index, 1);\n                }\n            } else {\n                console.warn(\"Handler for event '\" + event + \"' no found.\");\n            }\n        } else {\n            this._handlers[event] = [];\n        }\n    } else {\n        Object.keys(this._handlers).forEach(function (keys) {\n            _this._handlers[keys] = [];\n        });\n    }\n};\n},{}],19:[function(require,module,exports){\n\"use strict\";\n\nmodule.exports = function on(event, handler) {\n    if (this._handlers[event]) {\n        this._handlers[event].push(handler);\n    } else {\n        console.warn(\"Unsupported event \" + event + \".\");\n    }\n};\n},{}],20:[function(require,module,exports){\n'use strict';\n\nvar _Link = require('../Link');\n\nvar _Link2 = _interopRequireDefault(_Link);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = function (pathname) {\n    var _this = this;\n\n    var link = new _Link2.default();\n    link.setPath(pathname);\n    return new Promise(function (resolve, reject) {\n        if (link.getAddress() != _this.currentUrl && !_this.cache.exists(link.getAddress())) {\n            _this.getPage({ url: link.getAddress() }, function (response, request) {\n                if (request.status === 500) {\n                    _this.triggerEvent('serverError');\n                    reject();\n                } else {\n                    // get json data\n                    var page = _this.getDataFromHtml(response, request);\n                    if (page != null) {\n                        page.url = link.getAddress();\n                        _this.cache.cacheUrl(page, _this.options.debugMode);\n                        _this.triggerEvent('pagePreloaded');\n                    }\n                    resolve(_this.cache.getPage(link.getAddress()));\n                }\n            });\n        } else {\n            resolve(_this.cache.getPage(link.getAddress()));\n        }\n    });\n};\n},{\"../Link\":8}],21:[function(require,module,exports){\n\"use strict\";\n\nvar _utils = require(\"./utils\");\n\nmodule.exports = function () {\n    var _this = this;\n\n    if (this.options.preload) {\n        (0, _utils.queryAll)('[data-swup-preload]').forEach(function (element) {\n            _this.preloadPage(element.href);\n        });\n    }\n};\n},{\"./utils\":28}],22:[function(require,module,exports){\n'use strict';\n\nvar _utils = require('./utils');\n\nvar _Link = require('../Link');\n\nvar _Link2 = _interopRequireDefault(_Link);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar forEach = Array.prototype.forEach;\n\n\nmodule.exports = function (page, popstate) {\n    var _this = this;\n\n    document.documentElement.classList.remove('is-leaving');\n\n    // replace state in case the url was redirected\n    var link = new _Link2.default();\n    link.setPath(page.responseURL);\n\n    if (window.location.pathname !== link.getPath()) {\n        window.history.replaceState({\n            url: link.getPath(),\n            random: Math.random(),\n            source: \"swup\"\n        }, document.title, link.getPath());\n    }\n\n    // only add for non-popstate transitions\n    if (!popstate || this.options.animateHistoryBrowsing) {\n        document.documentElement.classList.add('is-rendering');\n    }\n\n    this.triggerEvent('willReplaceContent');\n\n    // replace blocks\n    for (var i = 0; i < page.blocks.length; i++) {\n        document.body.querySelector('[data-swup=\"' + i + '\"]').outerHTML = page.blocks[i];\n    }\n\n    // set title\n    document.title = page.title;\n\n    // handle classes after render\n    // remove\n    if (this.options.pageClassPrefix !== false) {\n        document.body.className.split(' ').forEach(function (className) {\n            // empty string for page class\n            if (className != \"\" && className.includes(_this.options.pageClassPrefix)) {\n                document.body.classList.remove(className);\n            }\n        });\n    }\n    // add\n    if (page.pageClass != \"\") {\n        page.pageClass.split(' ').forEach(function (className) {\n            if (className != \"\" && className.includes(_this.options.pageClassPrefix)) {\n                document.body.classList.add(className);\n            }\n        });\n    }\n\n    this.triggerEvent('contentReplaced');\n    this.triggerEvent('pageView');\n    if (!this.options.cache) {\n        this.cache.empty(this.options.debugMode);\n    }\n    setTimeout(function () {\n        if (!popstate || _this.options.animateHistoryBrowsing) {\n            _this.triggerEvent('animationInStart');\n            document.documentElement.classList.remove('is-animating');\n        }\n    }, 10);\n\n    // scrolling\n    if (!this.options.doScrollingRightAway || this.scrollToElement) {\n        this.doScrolling(popstate);\n    }\n\n    // detect animation end\n    var animatedElements = (0, _utils.queryAll)(this.options.animationSelector);\n    var promises = [];\n    forEach.call(animatedElements, function (element) {\n        var promise = new Promise(function (resolve) {\n            element.addEventListener(_this.transitionEndEvent, function (event) {\n                if (element == event.target) {\n                    resolve();\n                }\n            });\n        });\n        promises.push(promise);\n    });\n\n    //preload pages if possible\n    this.preloadPages();\n\n    if (!popstate || this.options.animateHistoryBrowsing) {\n        Promise.all(promises).then(function () {\n            _this.triggerEvent('animationInDone');\n            // remove \"to-{page}\" classes\n            document.documentElement.className.split(' ').forEach(function (classItem) {\n                if (new RegExp(\"^to-\").test(classItem) || classItem === \"is-changing\" || classItem === \"is-rendering\" || classItem === \"is-popstate\") {\n                    document.documentElement.classList.remove(classItem);\n                }\n            });\n        });\n    }\n\n    // update current url\n    this.getUrl();\n    // reset scroll-to element\n    this.scrollToElement = null;\n};\n},{\"../Link\":8,\"./utils\":28}],23:[function(require,module,exports){\n\"use strict\";\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nmodule.exports = function (options) {\n    var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    var defaults = {\n        url: window.location.pathname + window.location.search,\n        method: \"GET\",\n        data: null\n    };\n\n    var data = _extends({}, defaults, options);\n\n    var request = new XMLHttpRequest();\n\n    request.onreadystatechange = function () {\n        if (request.readyState === 4) {\n            if (request.status !== 500) {\n                callback(request.responseText, request);\n            } else {\n                callback(null, request);\n            }\n        }\n    };\n\n    request.open(data.method, data.url, true);\n    request.setRequestHeader(\"X-Requested-With\", \"swup\");\n    request.send(data.data);\n    return request;\n};\n},{}],24:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function (element, to) {\n    var _this = this;\n\n    var animatedScroll = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.options.animateScroll;\n\n    var friction = 1 - this.options.scrollFriction;\n    var acceleration = this.options.scrollAcceleration;\n\n    var positionY = 0;\n    var velocityY = 0;\n    var targetPositionY = 0;\n    var targetPositionYWithOffset = 0;\n    var direction = 0;\n\n    var raf = null;\n\n    function getScrollTop() {\n        return document.body.scrollTop || document.documentElement.scrollTop;\n    }\n\n    var animate = function animate() {\n        var distance = update();\n        render();\n\n        if (direction === 1 && targetPositionY > positionY || direction === -1 && targetPositionY < positionY) {\n            raf = requestAnimationFrame(animate);\n        } else {\n            window.scrollTo(0, targetPositionY);\n            _this.triggerEvent('scrollDone');\n        }\n    };\n\n    function update() {\n        var distance = targetPositionYWithOffset - positionY;\n        var attraction = distance * acceleration;\n\n        applyForce(attraction);\n\n        velocityY *= friction;\n        positionY += velocityY;\n\n        return distance;\n    }\n\n    var applyForce = function applyForce(force) {\n        velocityY += force;\n    };\n\n    var render = function render() {\n        window.scrollTo(0, positionY);\n    };\n\n    window.addEventListener('mousewheel', function (event) {\n        if (raf) {\n            cancelAnimationFrame(raf);\n            raf = null;\n        }\n    }, {\n        passive: true\n    });\n\n    var scrollTo = function scrollTo(offset, callback) {\n        positionY = getScrollTop();\n        direction = positionY > offset ? -1 : 1;\n        targetPositionYWithOffset = offset + direction;\n        targetPositionY = offset;\n        velocityY = 0;\n        if (positionY != targetPositionY) {\n            animate();\n        } else {\n            _this.triggerEvent('scrollDone');\n        }\n    };\n\n    this.triggerEvent('scrollStart');\n    if (animatedScroll == 0) {\n        window.scrollTo(0, to);\n        this.triggerEvent('scrollDone');\n    } else {\n        scrollTo(to);\n    }\n};\n},{}],25:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function (eventName, originalEvent) {\n    if (this.options.debugMode && originalEvent) {\n        console.groupCollapsed('%cswup:' + '%c' + eventName, 'color: #343434', 'color: #009ACD');\n        console.log(originalEvent);\n        console.groupEnd();\n    } else if (this.options.debugMode) {\n        console.log('%cswup:' + '%c' + eventName, 'color: #343434', 'color: #009ACD');\n    }\n\n    // call saved handlers with \"on\" method and pass originalEvent object if available\n    this._handlers[eventName].forEach(function (handler) {\n        try {\n            handler(originalEvent);\n        } catch (error) {\n            console.error(error);\n        }\n    });\n\n    // trigger event on document with prefix \"swup:\"\n    var event = new CustomEvent('swup:' + eventName, { detail: eventName });\n    document.dispatchEvent(event);\n};\n},{}],26:[function(require,module,exports){\n\"use strict\";\n\nmodule.exports = function (from, to, custom) {\n\n    // homepage case\n    if (from == \"/\") {\n        from = \"/homepage\";\n    }\n    if (to == \"/\") {\n        to = \"/homepage\";\n    }\n\n    // transition routes\n    this.transition = {\n        from: from.replace('/', ''),\n        to: to.replace('/', '')\n    };\n\n    if (custom) {\n        this.transition.custom = custom;\n    }\n};\n},{}],27:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function (plugin, options) {\n    var _this = this;\n\n    options = Object.assign({}, plugin.options, options);\n\n    plugin.options = options;\n\n    var getCurrentPageHtml = function getCurrentPageHtml() {\n        var page = _this.cache.getPage(window.location.pathname + window.location.search);\n        var html = document.createElement('html');\n        html.innerHTML = page.originalContent;\n        return html;\n    };\n\n    this.plugins.push(plugin);\n    plugin.exec(options, this, getCurrentPageHtml);\n    return this.plugins;\n};\n},{}],28:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.query = query;\nexports.queryAll = queryAll;\nfunction query(selector) {\n    var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : document;\n\n    if (typeof selector !== 'string') {\n        return selector;\n    }\n\n    return context.querySelector(selector);\n}\n\nfunction queryAll(selector) {\n    var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : document;\n\n    if (typeof selector !== 'string') {\n        return selector;\n    }\n\n    return Array.prototype.slice.call(context.querySelectorAll(selector));\n}\n},{}],29:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function transitionEnd() {\n    var el = document.createElement('div');\n\n    var transEndEventNames = {\n        WebkitTransition: 'webkitTransitionEnd',\n        MozTransition: 'transitionend',\n        OTransition: 'oTransitionEnd otransitionend',\n        transition: 'transitionend'\n    };\n\n    for (var name in transEndEventNames) {\n        if (el.style[name] !== undefined) {\n            return transEndEventNames[name];\n        }\n    }\n\n    return false;\n};\n},{}],30:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _swup = require('swup');\n\nvar _swup2 = _interopRequireDefault(_swup);\n\nvar _loadPage = require('./modules/loadPage');\n\nvar _loadPage2 = _interopRequireDefault(_loadPage);\n\nvar _renderPage = require('./modules/renderPage');\n\nvar _renderPage2 = _interopRequireDefault(_renderPage);\n\nvar _getAnimation = require('./modules/getAnimation');\n\nvar _getAnimation2 = _interopRequireDefault(_getAnimation);\n\nvar _createAnimationPromise = require('./modules/createAnimationPromise');\n\nvar _createAnimationPromise2 = _interopRequireDefault(_createAnimationPromise);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// modules\n\n\nvar Swupjs = function (_Swup) {\n    _inherits(Swupjs, _Swup);\n\n    function Swupjs(setOptions) {\n        _classCallCheck(this, Swupjs);\n\n        var defaults = {\n            animations: {\n                '*': {\n                    out: function out(next) {\n                        next();\n                    },\n                    in: function _in(next) {\n                        next();\n                    }\n                }\n            }\n        };\n\n        var options = _extends({}, defaults, setOptions);\n\n        var _this = _possibleConstructorReturn(this, (Swupjs.__proto__ || Object.getPrototypeOf(Swupjs)).call(this, options));\n\n        _this.loadPage = _loadPage2.default;\n        _this.renderPage = _renderPage2.default;\n        _this.getAnimation = _getAnimation2.default;\n        _this.createAnimationPromise = _createAnimationPromise2.default;\n\n\n        _this.animations = options.animations;\n        return _this;\n    }\n\n    /**\n     * make modules accessible in instance\n     */\n\n\n    return Swupjs;\n}(_swup2.default);\n\nexports.default = Swupjs;\n},{\"./modules/createAnimationPromise\":31,\"./modules/getAnimation\":32,\"./modules/loadPage\":33,\"./modules/renderPage\":34,\"swup\":9}],31:[function(require,module,exports){\n\"use strict\";\n\nmodule.exports = function (fn) {\n    return new Promise(function (resolve) {\n        fn(resolve);\n    });\n};\n},{}],32:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function (transition, animations, type) {\n\n    var animation = null;\n    var animationName = null;\n    var topRating = 0;\n\n    Object.keys(animations).forEach(function (item) {\n        var rating = 0;\n        if (item.includes('>')) {\n            var route = item.split('>');\n            var from = route[0];\n            var to = route[1];\n\n            // TO equals to TO\n            if (to == transition.to || to == \"*\") {\n                rating++;\n            }\n\n            // equals to CUSTOM animation\n            if (to == transition.custom) {\n                rating = rating + 2;\n            }\n\n            // FROM equals or is ANY\n            if (from == transition.from || from == \"*\") {\n                rating++;\n            }\n        }\n\n        // set new final animation\n        if (rating > topRating) {\n            topRating = rating;\n            animationName = item;\n            animation = animations[item];\n        }\n    });\n\n    if (animation == null || topRating == 1) {\n        animation = animations['*'];\n        animationName = '*';\n    }\n\n    return animation[type];\n};\n},{}],33:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function (data, popstate) {\n    var _this = this;\n\n    // scrolling\n    if (this.options.doScrollingRightAway && !this.scrollToElement) {\n        this.doScrolling(popstate);\n    }\n\n    // create array for storing animation promises\n    var animationPromises = [];\n\n    // set transition object\n    if (data.customTransition != null) {\n        this.updateTransition(window.location.pathname, data.url, data.customTransition);\n        document.documentElement.classList.add('to-' + this.classify(data.customTransition));\n    } else {\n        this.updateTransition(window.location.pathname, data.url);\n    }\n\n    if (!popstate || this.options.animateHistoryBrowsing) {\n        // start animation\n        this.triggerEvent('animationOutStart');\n        document.documentElement.classList.add('is-changing');\n        document.documentElement.classList.add('is-leaving');\n        if (popstate) {\n            document.documentElement.classList.add('is-popstate');\n        }\n        document.documentElement.classList.add('to-' + this.classify(data.url));\n\n        // animation promise\n        var animationPromise = this.createAnimationPromise(this.getAnimation(this.transition, this.animations, 'out'));\n        animationPromises.push(animationPromise);\n\n        Promise.all(animationPromises).then(function () {\n            _this.triggerEvent('animationOutDone');\n        });\n\n        // create pop element with or without anchor\n        if (this.scrollToElement != null) {\n            var pop = data.url + this.scrollToElement;\n        } else {\n            var pop = data.url;\n        }\n        if (!popstate) this.createState(pop);\n    } else {\n        // proceed without animating\n        this.triggerEvent('animationSkipped');\n    }\n\n    if (this.cache.exists(data.url)) {\n        var xhrPromise = new Promise(function (resolve) {\n            resolve();\n        });\n        this.triggerEvent('pageRetrievedFromCache');\n    } else {\n        if (!this.preloadPromise || this.preloadPromise.route != data.url) {\n            var xhrPromise = new Promise(function (resolve, reject) {\n                _this.getPage(data, function (response, request) {\n                    if (request.status === 500) {\n                        _this.triggerEvent('serverError');\n                        reject(data.url);\n                        return;\n                    } else {\n                        // get json data\n                        var page = _this.getDataFromHtml(response, request);\n                        if (page != null) {\n                            page.url = data.url;\n                        } else {\n                            reject(data.url);\n                            return;\n                        }\n                        // render page\n                        _this.cache.cacheUrl(page, _this.options.debugMode);\n                        _this.triggerEvent('pageLoaded');\n                    }\n                    resolve();\n                });\n            });\n        } else {\n            var xhrPromise = this.preloadPromise;\n        }\n    }\n\n    Promise.all(animationPromises.concat([xhrPromise])).then(function () {\n        _this.renderPage(_this.cache.getPage(data.url), popstate);\n        _this.preloadPromise = null;\n    }).catch(function (errorUrl) {\n        // rewrite the skipPopStateHandling function to redirect manually when the history.go is processed\n        _this.options.skipPopStateHandling = function () {\n            window.location = errorUrl;\n            return true;\n        };\n\n        // go back to the actual page were still at\n        window.history.go(-1);\n    });\n};\n},{}],34:[function(require,module,exports){\n'use strict';\n\nvar _Link = require('swup/lib/Link');\n\nvar _Link2 = _interopRequireDefault(_Link);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar forEach = Array.prototype.forEach;\n\n\nmodule.exports = function (page, popstate) {\n    var _this = this;\n\n    document.documentElement.classList.remove('is-leaving');\n\n    // replace state in case the url was redirected\n    var link = new _Link2.default();\n    link.setPath(page.responseURL);\n\n    if (window.location.pathname !== link.getPath()) {\n        window.history.replaceState({\n            url: link.getPath(),\n            random: Math.random(),\n            source: \"swup\"\n        }, document.title, link.getPath());\n    }\n\n    if (!popstate || this.options.animateHistoryBrowsing) {\n        document.documentElement.classList.add('is-rendering');\n    }\n\n    this.triggerEvent('willReplaceContent');\n\n    // replace blocks\n    for (var i = 0; i < page.blocks.length; i++) {\n        document.body.querySelector('[data-swup=\"' + i + '\"]').outerHTML = page.blocks[i];\n    }\n\n    // set title\n    document.title = page.title;\n\n    // handle classes after render\n    // remove\n    if (this.options.pageClassPrefix !== false) {\n        document.body.className.split(' ').forEach(function (className) {\n            // empty string for page class\n            if (className != \"\" && className.includes(_this.options.pageClassPrefix)) {\n                document.body.classList.remove(className);\n            }\n        });\n    }\n\n    // add\n    if (page.pageClass != \"\") {\n        page.pageClass.split(' ').forEach(function (className) {\n            if (className != \"\" && className.includes(_this.options.pageClassPrefix)) {\n                document.body.classList.add(className);\n            }\n        });\n    }\n\n    this.triggerEvent('contentReplaced');\n    this.triggerEvent('pageView');\n\n    if (!this.options.cache) {\n        this.cache.empty(this.options.debugMode);\n    }\n\n    // scrolling\n    if (!this.options.doScrollingRightAway || this.scrollToElement) {\n        this.doScrolling(popstate);\n    }\n\n    // detect animation end\n    var animationPromises = [];\n    if (!popstate || this.options.animateHistoryBrowsing) {\n        this.triggerEvent('animationInStart');\n        var animationPromise = this.createAnimationPromise(this.getAnimation(this.transition, this.animations, 'in'));\n        animationPromises.push(animationPromise);\n    }\n\n    //preload pages if possible\n    this.preloadPages();\n\n    if (!popstate || this.options.animateHistoryBrowsing) {\n        Promise.all(animationPromises).then(function () {\n            _this.triggerEvent('animationInDone');\n            // remove \"to-{page}\" classes\n            document.documentElement.className.split(' ').forEach(function (classItem) {\n                if (new RegExp(\"^to-\").test(classItem) || classItem === \"is-changing\" || classItem === \"is-rendering\" || classItem === \"is-popstate\") {\n                    document.documentElement.classList.remove(classItem);\n                }\n            });\n        });\n    }\n\n    // update current url\n    this.getUrl();\n    // reset scroll-to element\n    this.scrollToElement = null;\n};\n},{\"swup/lib/Link\":8}]},{},[3]);\n"]}